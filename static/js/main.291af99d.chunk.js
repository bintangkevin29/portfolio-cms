(this["webpackJsonpportfolio-cms"]=this["webpackJsonpportfolio-cms"]||[]).push([[0],{52:function(e,a,t){e.exports=t(78)},75:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),c=t.n(l),o=t(20),i=t(15),m=t(48),u=t(7),s=t(11),d=t(27),b=t.n(d);b.a.initializeApp({apiKey:"AIzaSyAD7X6ZA8XYrjleTp6ufAVNiHjLKZ48JF8",authDomain:"portfolio-69ab5.firebaseapp.com",databaseURL:"https://portfolio-69ab5.firebaseio.com",projectId:"portfolio-69ab5",storageBucket:"portfolio-69ab5.appspot.com",messagingSenderId:"675301215127",appId:"1:675301215127:web:243cb58f893e92ec1e52d2",measurementId:"G-W675LK1WK2"}),b.a.analytics();var p=b.a.auth(),E=b.a.firestore(),f=b.a.storage(),h=t(43),v=t(26),g=t.n(v),j=t(34),y=t(21),O=t(13),N=t(8),w=t(83),x=t(49),k=function(e){var a=e.children,t=e.colXs,n=e.colMd,l=e.header;return r.a.createElement(x.a,{xs:t,md:n},r.a.createElement("div",{className:"card shadow h-100 py-2"},l&&r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},l)),r.a.createElement("div",{className:"card-body"},a)))},C=t(37),S=t(84),L=function(e){var a=e.small,t=void 0!==a&&a;return r.a.createElement("div",{className:"d-flex align-items-center justify-content-center w-100 h-100"},r.a.createElement("div",{className:"spinner-border ".concat(t?"spinner-border-sm":"")}))},U=function(e){var a=e.children,t=e.loading,l=void 0!==t&&t,c=e.iconComponent,o=e.disabled,i=e.type,m=Object(C.a)(e,["children","loading","iconComponent","disabled","type"]);return r.a.createElement(S.a,Object.assign({type:i,disabled:l||o,className:"btn btn-sm btn-primary shadow-sm"},m),l?r.a.createElement(L,{small:!0}):r.a.createElement(n.Fragment,null,c&&r.a.createElement("i",{className:"fas fa-download fa-sm text-white-50"})," ",a))},G=function(){var e=Object(n.useState)({about:"",name:"",email:"",linkedin:"",github:""}),a=Object(N.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(N.a)(c,2),i=o[0],m=o[1];Object(n.useEffect)((function(){var e=E.collection("about").doc("Iqqt0Qvbi1XIgPz0DZUl").onSnapshot((function(e){var a=e.data();a&&l(Object(O.a)({},t,{about:a.about,name:a.name,email:a.email,linkedin:a.linkedin,github:a.github}))}));return function(){return e()}}),[]);var u=function(e){var a=e.target,n=a.value,r=a.name;l(Object(O.a)({},t,Object(y.a)({},r,n)))},d=function(){var e=Object(j.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),m(!0),e.next=4,E.collection("about").doc("Iqqt0Qvbi1XIgPz0DZUl").set(t).then((function(){s.c.success("About updated!")})).catch((function(){return s.c.error("Something wrong")}));case 4:m(!1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(k,{colXs:12,colMd:6},r.a.createElement(w.a,{onSubmit:d},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Name"),r.a.createElement(w.a.Control,{disabled:""===t.name,required:!0,name:"name",onChange:u,value:t.name})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Email"),r.a.createElement(w.a.Control,{disabled:""===t.email,required:!0,name:"email",onChange:u,value:t.email,type:"email"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"LinkedIn"),r.a.createElement(w.a.Control,{disabled:""===t.linkedin,required:!0,name:"linkedin",onChange:u,value:t.linkedin})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"GitHub"),r.a.createElement(w.a.Control,{disabled:""===t.github,required:!0,name:"github",onChange:u,value:t.github})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"About Me"),r.a.createElement(w.a.Control,{disabled:""===t.about,required:!0,name:"about",onChange:u,value:t.about,as:"textarea"})),r.a.createElement(w.a.Group,null,r.a.createElement(U,{disabled:""===t.about,block:!0,loading:i,type:"submit"},"Submit Changes"))))},A=function(){var e=Object(u.g)(),a={name:"",url:"",description:"",role:"",libraryFramework:"",githubUrl:"",year:"",imageUrl:""},t=Object(n.useState)(!1),l=Object(N.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(a),m=Object(N.a)(i,2),d=m[0],b=m[1],p=Object(n.useState)(),h=Object(N.a)(p,2),v=h[0],C=h[1],S=Object(n.useState)(),L=Object(N.a)(S,2),G=L[0],A=L[1],q=Object(n.useState)(),T=Object(N.a)(q,2),R=T[0],I=T[1],D=Object(u.i)().id;Object(n.useEffect)((function(){if(D){var e=E.collection("portfolio").doc(D).onSnapshot((function(e){var a=e.data();a&&(b({name:a.name,url:a.url,description:a.description,role:a.role,libraryFramework:a.libraryFramework,githubUrl:a.githubUrl,year:a.year,imageUrl:a.imageUrl}),a.imageUrl&&A(a.imageUrl),f.ref(a.imageUrl).getDownloadURL().then((function(e){return I(e)})))}));return function(){return e()}}}),[]);var F=function(e){var a=e.target,t=a.value,n=a.name;b(Object(O.a)({},d,Object(y.a)({},n,t)))},P=function(){var t=Object(j.a)(g.a.mark((function t(n){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),o(!0),r=E.collection("portfolio").doc().id,t.next=5,E.collection("portfolio").doc(D||r).set(d).then((function(){D||(b(a),e.push("/portfolio"))})).catch((function(){return s.c.error("Something Wrong Happened")}));case 5:if(!v){t.next=15;break}return t.prev=6,t.next=9,f.ref(G).delete();case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(6);case 13:return t.next=15,f.ref(d.imageUrl).put(v);case 15:s.c.success("".concat(D?"Modified":"Added"," Portfolio")),o(!1);case 17:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(k,{colXs:12,colMd:8},r.a.createElement(w.a,{onSubmit:P},r.a.createElement(w.a.Row,null,r.a.createElement(x.a,{xs:6},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Name"),r.a.createElement(w.a.Control,{placeholder:"Type project name here",required:!0,value:d.name,name:"name",onChange:F}))),r.a.createElement(x.a,{xs:6},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"URL"),r.a.createElement(w.a.Control,{placeholder:"Type url here",required:!0,value:d.url,name:"url",onChange:F}))),r.a.createElement(x.a,{xs:6},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Year"),r.a.createElement(w.a.Control,{required:!0,value:d.year,name:"year",onChange:F}))),r.a.createElement(x.a,{xs:6},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Github Repo URL"),r.a.createElement(w.a.Control,{value:d.githubUrl,name:"githubUrl",onChange:F}))),r.a.createElement(x.a,{xs:12},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Role"),r.a.createElement(w.a.Control,{placeholder:"Type role here",required:!0,value:d.role,name:"role",onChange:F}))),r.a.createElement(x.a,{xs:12},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Library / Framework"),r.a.createElement(w.a.Control,{placeholder:"Type programming language, framework, library, etc",required:!0,value:d.libraryFramework,name:"libraryFramework",onChange:F}))),r.a.createElement(x.a,{xs:12},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Image"),r.a.createElement(w.a.Control,{placeholder:"Type programming language, framework, library, etc",required:!0,name:"imageFile",type:"file",onChange:function(e){var a;e.target.files&&(C(e.target.files[0]),b(Object(O.a)({},d,{imageUrl:"/images/".concat(null===(a=e.target.files[0])||void 0===a?void 0:a.name)})))}}))),r.a.createElement(x.a,{xs:12},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Description"),r.a.createElement(w.a.Control,{as:"textarea",required:!0,placeholder:"Explain the story",value:d.description,name:"description",onChange:F}))),r.a.createElement(x.a,{xs:12},r.a.createElement(w.a.Group,{className:"d-flex justify-content-center"},r.a.createElement("img",{src:R,alt:"",width:"50%"}))),r.a.createElement(x.a,{xs:12},r.a.createElement(w.a.Group,null,r.a.createElement(U,{type:"submit",loading:c,block:!0},D?"Modify":"Add"))))))},q=t(81),T=t(30),R=[{name:"About",url:"/",component:G},{name:"Portfolio",url:"/portfolio",component:function(){var e=Object(n.useState)(),a=Object(N.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!0),o=Object(N.a)(c,2),m=o[0],u=o[1],d=Object(n.useState)(!1),b=Object(N.a)(d,2),p=b[0],f=b[1];return Object(n.useEffect)((function(){u(!0),E.collection("portfolio").get().then((function(e){var a=[];e.forEach((function(e){return a.push(Object(O.a)({id:e.id},e.data()))})),u(!1),l(a)}))}),[p]),r.a.createElement(k,{colXs:12},r.a.createElement(q.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Site"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t&&(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.url),r.a.createElement("td",{className:"text-center"},r.a.createElement(i.b,{to:"/portfolio/details/".concat(e.id)},r.a.createElement(T.b,{className:"text-primary mx-2 cursor-pointer"})),r.a.createElement(T.c,{onClick:function(){return a=e.id,void E.collection("portfolio").doc(a).delete().then((function(){s.c.success("Deleted"),f(!p)})).catch((function(){return s.c.error("Fail to delete")}));var a},className:"text-danger mx-2 cursor-pointer"})))})):r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center",colSpan:4},m?"Loading...":"No Data")))))},haveAdd:!0,children:[{name:"Add New Portfolio",url:"/portfolio/add",component:A},{name:"Portfolio Details",url:"/portfolio/details/:id",component:A}]}],I=function(){var e=[];return R.forEach((function(a){if(a.children)return a.children.map((function(a){return e=[].concat(Object(h.a)(e),[a])}))})),[].concat(R,Object(h.a)(e))}(),D=function(){var e=Object(n.useState)(!1),a=Object(N.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({email:"",password:""}),o=Object(N.a)(c,2),i=o[0],m=o[1],u=function(e){var a=e.target,t=a.name,n=a.value;m(Object(O.a)({},i,Object(y.a)({},t,n)))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-9"},r.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"p-5"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"Welcome Back!")),r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),l(!0),p.signInWithEmailAndPassword(i.email,i.password).then((function(){s.c.success("Welcome"),l(!1)})).catch((function(e){l(!1),s.c.error(e.message)}))},className:"user"},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Control,{type:"email",required:!0,className:"form-control-user",name:"email",placeholder:"Email",value:i.email,onChange:u})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Control,{type:"password",required:!0,className:"form-control-user",name:"password",placeholder:"Password",value:i.password,onChange:u})),r.a.createElement(U,{loading:t,type:"submit",block:!0,className:"btn-user"},"Login"))))))))))},F=t(35),P=Object(F.a)([function(e){return e.user}],(function(e){return e.user})),W=function(e){var a=e.component,t=Object(C.a)(e,["component"]),n=Object(o.c)(P);return r.a.createElement(u.b,Object.assign({},t,{render:function(){return n?r.a.createElement(a,null):r.a.createElement(u.a,{to:"/login"})}}))},M=t(82),X=function(){return r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 Your Website 2020"))))},_=function(e){var a=e.children;return r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},a),r.a.createElement(X,null))},B=function(e){var a=e.href,t=e.children,n=Object(u.h)().pathname;return r.a.createElement("li",{className:"nav-item ".concat(n===a?"active":"")},r.a.createElement(i.b,{className:"nav-link",to:a},r.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),r.a.createElement("span",null,t)))},K=function(e){var a=e.noMargin,t=void 0!==a&&a;return r.a.createElement("hr",{className:"sidebar-divider ".concat(t&&"my-0")})},z=function(){return r.a.createElement("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},r.a.createElement("div",{className:"sidebar-brand d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},r.a.createElement("i",{className:"fas fa-laugh-wink"})),r.a.createElement("div",{className:"sidebar-brand-text mx-3"},"Kevin's ",r.a.createElement("sup",null,"Portfolio"))),r.a.createElement(K,{noMargin:!0}),R.map((function(e,a){return r.a.createElement(B,{key:a,href:e.url},e.name)})))},Z=function(){var e=Object(o.b)();return r.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(U,{onClick:function(){p.signOut(),e({type:"RESET_USER"})}},"Log Out"))))},H=function(e){var a=e.children,t=function(){var e=Object(u.h)(),a=Object(n.useState)(),t=Object(N.a)(a,2),r=t[0],l=t[1];return Object(n.useEffect)((function(){var a=I.find((function(a){return a.url===e.pathname}));a&&l(a)}),[e]),{module:r}}().module,l=Object(u.h)().pathname,c=Object(u.g)(),o=l.split("/").length;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},r.a.createElement("div",{className:"d-flex align-items-center"},o>2&&r.a.createElement(T.a,{onClick:function(){c.goBack()},className:"text-primary mr-3 h4 my-0 cursor-pointer"}),r.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},null===t||void 0===t?void 0:t.name)),(null===t||void 0===t?void 0:t.haveAdd)&&r.a.createElement(i.b,{to:"".concat(t.url,"/add")},r.a.createElement(U,null," Add ",null===t||void 0===t?void 0:t.name))),a)},J=function(e){var a=e.children;return r.a.createElement("div",{className:"main-layout"},r.a.createElement("div",{id:"wrapper"},r.a.createElement(z,null),r.a.createElement(_,null,r.a.createElement(Z,null),r.a.createElement(H,null,r.a.createElement(M.a,null,a)))))},Y=(t(74),t(75),Object(F.a)([function(e){return e.urlTracker}],(function(e){return e.lastUrl})));var Q=function(){var e=Object(o.b)(),a=Object(u.g)(),t=Object(u.h)(),l=Object(o.c)(Y);return Object(n.useEffect)((function(){return p.onAuthStateChanged((function(t){t&&(e({type:"USER_SET",payload:t}),l?a.push(l):a.push("/"))}))}),[p]),Object(n.useEffect)((function(){"/login"!==t.pathname&&e({type:"SET_LAST_URL",payload:t.pathname})}),[t]),r.a.createElement("div",{className:"app"},r.a.createElement(s.b,{hideProgressBar:!0,position:"bottom-left",transition:s.a,autoClose:3e3,toastClassName:"shadow rounded px-4"}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:I.map((function(e){return e.url}))},r.a.createElement(J,null,I.map((function(e,a){var t=e.component;return r.a.createElement(W,{exact:!0,key:a,component:t,path:e.url})})))),r.a.createElement(u.b,{exact:!0,path:"/login",component:D})))},V=t(18),$=t(50),ee=t.n($),ae=t(36),te={lastUrl:void 0},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LAST_URL":return Object(O.a)({},e,{lastUrl:a.payload});default:return e}},re={user:void 0},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_SET":return Object(O.a)({},e,{user:a.payload});case"RESET_USER":return{user:void 0};default:return e}},ce=t(51),oe={key:"root",storage:t.n(ce).a,whitelist:["urlTracker"]},ie=Object(V.c)({user:le,urlTracker:ne}),me=Object(ae.a)(oe,ie),ue=[ee.a],se=Object(V.d)(me,V.a.apply(void 0,ue)),de=Object(ae.b)(se),be=se;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:be},r.a.createElement(i.a,{basename:"/portfolio-cms"},r.a.createElement(m.a,{persistor:de},r.a.createElement(Q,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.291af99d.chunk.js.map